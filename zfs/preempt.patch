diff --git a/config/kernel.m4 b/config/kernel.m4
index a6d544b..7cec526 100644
--- a/config/kernel.m4
+++ b/config/kernel.m4
@@ -4,7 +4,6 @@ dnl #
 AC_DEFUN([ZFS_AC_CONFIG_KERNEL], [
 	ZFS_AC_KERNEL
 	ZFS_AC_SPL
-	ZFS_AC_KERNEL_CONFIG
 	ZFS_AC_KERNEL_BDEV_BLOCK_DEVICE_OPERATIONS
 	ZFS_AC_KERNEL_TYPE_FMODE_T
 	ZFS_AC_KERNEL_KOBJ_NAME_LEN
@@ -306,41 +305,6 @@ AC_DEFUN([ZFS_AC_SPL], [
 ])
 
 dnl #
-dnl # Certain kernel build options are not supported.  These must be
-dnl # detected at configure time and cause a build failure.  Otherwise
-dnl # modules may be successfully built that behave incorrectly.
-dnl #
-dnl # CONFIG_PREEMPT - Preempt kernels require special handling.
-dnl #
-dnl # There are certain kernel build options which when enabled are
-dnl # completely incompatible with non GPL kernel modules.  It is best
-dnl # to detect these at configure time and fail with a clear error
-dnl # rather than build everything and fail during linking.
-dnl #
-dnl # CONFIG_DEBUG_LOCK_ALLOC - Maps mutex_lock() to mutex_lock_nested()
-dnl #
-AC_DEFUN([ZFS_AC_KERNEL_CONFIG], [
-
-	ZFS_LINUX_CONFIG([PREEMPT],
-		AC_MSG_ERROR([
-	*** Kernel built with CONFIG_PREEMPT which is not supported.
-	*** You must rebuild your kernel without this option.]), [])
-
-	AS_IF([test "$ZFS_META_LICENSE" = CDDL], [
-		ZFS_LINUX_CONFIG([DEBUG_LOCK_ALLOC],
-		AC_MSG_ERROR([
-	*** Kernel built with CONFIG_DEBUG_LOCK_ALLOC which is
-	*** incompatible with the CDDL license.  You must rebuild
-	*** your kernel without this option.]), [])
-	])
-
-	AS_IF([test "$ZFS_META_LICENSE" = GPL], [
-		AC_DEFINE([HAVE_GPL_ONLY_SYMBOLS], [1],
-			[Define to 1 if licensed under the GPL])
-	])
-])
-
-dnl #
 dnl # ZFS_LINUX_CONFTEST
 dnl #
 AC_DEFUN([ZFS_LINUX_CONFTEST], [
